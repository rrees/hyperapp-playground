<body>
	<script src="https://unpkg.com/hyperapp"></script>
	<script>
		const {h, app} = hyperapp;

		function Counter(state, actions) {
			return h("h1", {}, "Counters",
				[
					h("p", {}, state.count),
					h("button", {onclick: actions.up}, "Add"),
					h("button", {onclick: actions.down}, "Subtract")
				]);
		}

		app({
			state: {
				counters [
					0, 0, 0
				].map(x => x)
				count: 0
			},
			actions: {
				down: (counter_id, state) => {
					return {
						counters: counters.map((val, idx) => idx === counter_id ? val -1 : val)
					}
				},
				up: (state) => {
					return {
						counters: counters.map((val, idx) => idx === counter_id ? val -1 : val)
					}
				}
			},
			view: (state, actions) => Counter(state, actions)


		});
	</script>
</body>